{% extends "base.html" %}
{% load mathfilters %}

{% block title %}
주문조회
{% endblock %}  

{% block contents %}

<style>
    div.a {
        font-size: 10px;
    }

    div.b {
        text-align: center;
    }

    .pro_modi{
        float: left;
        width: 50%;
        color: white;
        line-height: 20px;
        margin: 23px 0 15px 2px;
        font-size: 1.1em;
    }
    .btn-close{
        float: right;
        height: 20px;
        line-height: 20px;
        margin: 13px 10px 20px;
        text-align: center;
    }
    .title{
        height: 8%;
    }
    .content > div > p {
        float: right;
        font-size: 0.8em;
    }
    .sub_title div{
        font-size: 15px;
        font-weight: bold;
    }
    .btn-close:hover,
    .btn-close:focus {
        color: rgb(146, 143, 143);
        text-decoration: none;
        cursor: pointer;
    }
    .prod{
        background: url(/static/img/cat.jpg) no-repeat;
        background-size: cover;
        height: 7em;
    }
    .modal-footer > button{
        background-color: rgb(119, 118, 177);
        border: none;
    }

    @media screen and (min-width: 600px) {
        .modal-dialog{
            max-width: 700px;
        }     
    }

    @media (max-width: 768px) {
        .table{
            font-size: 0.5rem;
        }
    }
</style>

<div class="col-md-10 container">
    <h2>주문/배송 조회</h2>
    <div class="b table-responsive">
        <table class="table table-bordered" style="word-break: keep-all;">
            <thead>
                <tr>
                    <th>구분</th>
                    <th>주문번호</th>
                    <th>주문날짜</th>
                    <th>배송지</th>
                    <th>배송비</th>
                    <th>주문상태</th>
                    <th>확인/취소</th>
                </tr>
            </thead>
            <tbody>
                {% for order in boards %}
                <tr>
                    <td>{{ order.id }}</td>
                    <td>{{ order.number }}</a></td>
                    <td>{{ order.date }}</td>
                    <td>{{ order.delivery_address }} {{ order.detail_address }}</td>
                    <td>무료배송</td>
                    <td>배송중</td>
                    <td>취소불가</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="container mt-1">
        <ul class="pagination justify-content-center">
            {% if boards.number > 1 %}       
            <li class="page-item"><a class="page-link" href="{% url 'order_list' %}" title="처음"><i class='fas fa-angle-double-left'>◀◀</i></a></li>
            {% endif %}
    
            {% if start_page > 1%}
            <li class="page-item"><a class="page-link" href="{% url 'order_list' %}?page={{ start_page|add:-1 }}" title="이전"><i class='fas fa-angle-left'></i>◀</a></li>
            {% endif %}
    
            {% if boards.paginator.num_pages > 1 %}
                {% for p in page_range %}
                    {% if boards.number != p %}
                    <li class="page-item"><a class="page-link" href="{% url 'order_list' %}?page={{ p }}">{{ p }}</a></li>
                    {% else %}
                    <li class="page-item active"><a class="page-link" href="#" title="현재페이지">{{ p }}</a></li>
                    {% endif %}
                {% endfor %}
            {% endif %}
    
            {% if boards.paginator.num_pages > end_page %}
            <li class="page-item"><a class="page-link" href="{% url 'order_list' %}?page={{ end_page|add:1 }}" title="다음"><i class='fas fa-angle-right'>▶</i></a></li>
            {% endif %}
            
            {% if boards.number < boards.paginator.num_pages %}
            <li class="page-item"><a class="page-link" href="{% url 'order_list' %}?page={{ boards.paginator.num_pages }}" title="마지막"><i class='fas fa-angle-double-right'>▶▶</i></a></li>
            {% endif %}
        </ul>
    </div>
</div>


<script>
    var nav_bar = document.getElementById("nav-user");
    nav_bar.classList.remove("d-none");
</script>
{% endblock %}