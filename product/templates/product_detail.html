{% extends "base.html" %}
{% load mathfilters %}

{% block title %}
상품상세정보
{% endblock %}

{%block nav%}
{%endblock%}

{% block contents %}

<style>
    #a{
        background-color: #f0e8ff;
    }
    #b{
        background-color: #f0e8ff;
    }
    div{
        word-break: keep-all;
    }
    #present{
        color: white;
        background-color: #ffc107;
        border:1px solid #ffc107;
    }
    #present:hover {
        color: #ffc107;
        background-color: white;
    }

    @media (max-width: 768px) {
        #b, h5, i{
            font-size: 0.7rem;
        }
    }
</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

{% for d in detail %}
<div class="col-md-6">
    <img src="{{d.image}}"
    class="img-fluid" alt="">
</div>
<div class="p-4 col-md-6" id="a">
    <h4>{{d.name|striptags}}</h4>
    <br>
    <p>{{d.price}}</p>
    <button type="button" class="btn btn-danger" style="float:right;">
        <i class="bi bi-box2-heart" ></i>
    </button>
    <br><br><br><br>
    <!-- // 배송비 선택 필드 -->
    <select class="form-select" name="delivery" id="delivery">
        <option selected>
            배송비
        </option>
        <option value="free">
            {{d.delivery}}
        </option>
        
        <option value="onarrival">
            {# 배송비 #} 착불
        </option>
    </select>

    <br><br>
    <!-- // 수량 선택 필드 -->
    <select class="form-select" name="quantity" id="quantity">
        <option selected>
            수량
        </option>
        {% for i in range1 %}
        <option value="{{i}}">
            {{i}}
        </option>
        {% endfor %}
    </select>
    <br><br>
    <div class="d-flex justify-content-center pad-10">
        <button type="button" onclick="chkCart()" class="btn btn-secondary btn-md">장바구니</button>&emsp;&emsp;
        <button type="button" class="btn btn-primary btn-md">바로결제</button>&emsp;&emsp;
        <button type="button" class="btn btn-warning btn-md" id="present">선물하기</button>
    </div>
</div>
{% endfor %}

<div class="container p-4">
    <h4>상품리뷰/평점</h4>
    {% for z in range3 %}
    <div class="row border p-3" id="b">
        <div>
            <h5>{# 평점 #} 평점</h5>
            {% for j in range2 %}
            <i class="bi bi-star"></i>
            {% endfor %}
            <h5 style="float:right;">구매자ID: {# 구매자 ID #} 작성날짜: {# 작성날짜 #}</h5>
            <br><br>
            <h5>상세리뷰: </h5> <br>
            <p>{# 상세리뷰 #}ㄹㅇㄴㅁㄹㅇㄴㅁㄹㅇㄴ</p>
        </div>
    </div>
    <br>
    {% endfor %}
</div>


    
<script>
    function chkCart() {
        var r = confirm('장바구니에 담겼습니다 장바구니 페이지로 이동하시겠습니까?')
        if (r) {
            location.href = "{% url 'before_cart' product_id %}"
        }
    } 


    var nav_bar = document.getElementById("nav-category");
    nav_bar.classList.remove("d-none");
    
</script>
{% endblock %}    