{% extends "base.html" %}
{% block title %}
검색 결과창
{% endblock %}

{% block contents %}
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    word-break: keep-all;
  }
</style>

<div class="col-md-10 border" style="word-break: keep-all;">
  <div class="flex-wrap flex-md-nowrap align-items-center pt-4 pb-3 m-3">
    <h2>평점순</h2>
    <h5>총 n개의 상품</h5>
  </div>

  <div class="container row justify-content-between">
    <div class="col-md-3">
      <a href="#" style="text-decoration: none;">
        <div class="thumbnail">
          <img class="col-md-12"
            src="https://cdn.011st.com/11dims/resize/400x400/quality/75/11src/pd/20/9/5/2/3/7/9/oezvb/1024952379_L300.jpg"
            alt="...">
          <div class="caption">
            <h3>Thumbnail label</h3>
          </div>
        </div>
        <div class="row">
          <p class="col-md-12">상품이름 {# 상품이름 #}</p>
          <div class="col-md-6">가격 {# 상품가격 #}</div>
          <div class="col-md-4 col-md-offset-4">평점 {# 상품평점평균값 #}</div>
          <div class="col-md-4">배송비 {# 배송비 #}</div>
        </div>
        <div class="col-md-3">판매자</div>
      </a>
    </div>
    <div class=" col-md-3">
      <a href="#" style="text-decoration: none;">
        <div class="thumbnail">
          <img class="col-md-12"
            src="https://cdn.011st.com/11dims/resize/400x400/quality/75/11src/pd/20/9/5/2/3/7/9/oezvb/1024952379_L300.jpg"
            alt="...">
          <div class="caption">
            <h3>Thumbnail label</h3>
          </div>
        </div>
        <div class="row">
          <p class="col-md-12">상품이름 {# 상품이름 #}</p>
          <div class="col-md-6">가격 {# 상품가격 #}</div>
          <div class="col-md-4 col-md-offset-4">평점 {# 상품평점평균값 #}</div>
          <div class="col-md-4">배송비 {# 배송비 #}</div>
        </div>
        <div class="col-md-3">판매자</div>
      </a>
    </div>
    <div class=" col-md-3">
      <a href="#" style="text-decoration: none;">
        <div class="thumbnail">
          <img class="col-md-12"
            src="https://cdn.011st.com/11dims/resize/400x400/quality/75/11src/pd/20/9/5/2/3/7/9/oezvb/1024952379_L300.jpg"
            alt="...">
          <div class="caption">
            <h3>Thumbnail label</h3>
          </div>
        </div>
        <div class="row">
          <p class="col-md-12">상품이름 {# 상품이름 #}</p>
          <div class="col-md-6">가격 {# 상품가격 #}</div>
          <div class="col-md-4 col-md-offset-4">평점 {# 상품평점평균값 #}</div>
          <div class="col-md-4">배송비 {# 배송비 #}</div>
        </div>
        <div class="col-md-3">판매자</div>
      </a>
    </div>
    <div class=" col-md-3">
      <a href="#" style="text-decoration: none;">
        <div class="thumbnail">
          <img class="col-md-12"
            src="https://cdn.011st.com/11dims/resize/400x400/quality/75/11src/pd/20/9/5/2/3/7/9/oezvb/1024952379_L300.jpg"
            alt="...">
          <div class="caption">
            <h3>Thumbnail label</h3>
          </div>
        </div>
        <div class="row">
          <p class="col-md-12">상품이름 {# 상품이름 #}</p>
          <div class="col-md-6">가격 {# 상품가격 #}</div>
          <div class="col-md-4 col-md-offset-4">평점 {# 상품평점평균값 #}</div>
          <div class="col-md-4">배송비 {# 배송비 #}</div>
        </div>
        <div class="col-md-3">판매자</div>
      </a>
    </div>
  </div>

  <div class="flex-wrap flex-md-nowrap align-items-center pt-4 pb-3 m-3 border-top">
    <span style="color: red;">'검색이름'</span>
    <span>에 해당하는 상품</span>
  </div>

  <div class="container row justify-content-between">
    {% for item in items %}
    <div class=" col-md-3">
      <a href="{% url 'product_detail' item.productId %}" style="text-decoration: none;">
        <div class="thumbnail">
          <img class="col-md-12" src="{{ item.image }}" alt="...">
          <div class="caption">
            <h4>{{ item.title|striptags }}</h4>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">{{ item.lprice }}</div>
          <div class="col-md-4 col-md-offset-4">4.5</div>
        </div>
        <div class="col-md-3">{{ item.mallName }}</div>
      </a>
    </div>
    {% endfor %}
    
    <!-- Pagination -->
    <div id="paging">
      <ul class="pagination justify-content-center" style="margin-top : 2rem;">
        <!--이전페이지-->
        {% if page_obj.has_previous %}
        <li class="page-item">
          <a class="page-link" href="{% url 'product_search' product_name page_num %}?page={{ page_obj.previous_page_number }}">이전</a>
        </li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link" tabindex="-1" aria-disabled="true" href="#">이전</a>
        </li>
        {% endif %}
        <!--페이지 리스트-->
        {% for page_number in page_obj.paginator.page_range %}
        {% if page_number == page_obj.number %}
        <li class="page-item active" aria-current="page">
          <a class="page-link" href="{% url 'product_search' product_name page_num %}?page={{ page_number }}">{{ page_number }}</a>
        </li>
        {% else %}
        <li class="page-item">
          <a class="page-link" href="{% url 'product_search' product_name page_num %}?page={{ page_number }}">{{ page_number }}</a>
        </li>
        {% endif %}
        {% endfor %}
        <!-- 다음페이지 -->
        {% if page_obj.has_next %}
        <li class="page-item">
          <a class="page-link" href="{% url 'product_search' product_name page_num %}?page={{ page_obj.next_page_number }}">다음</a>
        </li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link" tabindex="-1" aria-disabled="true" href="#">다음</a>
        </li>
        {% endif %}
      </ul>
    </div>
    <!-- 페이징처리 끝 -->



  </div>
</div>

<script>
  var nav_bar = document.getElementById("nav-category");
  nav_bar.classList.remove("d-none");

  function frm_submit() {
    document.getElementById('itemFrm').submit();
  }
</script>
{% endblock %}