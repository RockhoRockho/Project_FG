{% extends "base.html" %}

{% block title %}
FG MALL - 로그인
{% endblock %}

{% block stylesheet %}
{% load static %}
<link href="{% static 'css/member_login.css' %}" rel="stylesheet">
{% endblock %}

{% block nav %}
{% endblock %}

{% block contents %}

<!-- 로그인 시작 -->
<div class="h-100 w-100">
    <div class="d-flex flex-wrap justify-content-center align-items-center h-100">
        <div class="d-flex flex-wrap justify-content-center align-items-center col-12 col-md-6 py-5">
            <form class="col-12" name="login" action="{%url 'member_login' %}" method="POST" id="login_input">
                {% csrf_token %}
                <div class="input-group d-flex py-1">
                    <span class="input-group-text" id="addon-wrapping">ID</span>
                    <input type="text" class="form-control" name="username" placeholder="ID를 입력하세요.">
                </div>
                <div class="input-group d-flex py-1">
                    <span class="input-group-text" id="addon-wrapping">PW</span>
                    <input type="password" class="form-control" name="password" placeholder="Password를 입력하세요.">
                </div>
                <div class="d-flex py-1">
                    <input type="submit" class="btn btn-primary w-100" value="Login">
                </div>
                <div class="d-flex py-1">
                    <span style="color:red;"><strong>{{ error }}</strong> </span>
                </div>
            </form>
            <div class="d-flex justify-content-center align-items-center col-12">
                <div class="login_auto px-3">
                    <input id="auto" type="checkbox">
                    <label for="auto" style="font-size: 13px;">자동로그인</label>
                </div>
                <div class="login_save px-3">
                    <input id="save" type="checkbox">
                    <label for="save" style="font-size: 13px;">아이디저장</label>
                </div>
            </div>
            <div class="d-flex col-12 login_list">
                <a href="#" class="kakao">
                    <div class="kakao">
                        <strong>카카오로그인</strong>
                    </div>
                </a>
            </div>
            <div class="d-flex col-12 login_list">
                <a href="#" class="naver">
                    <div class="naver">
                        <strong>네이버로그인</strong>
                    </div>
                </a>
            </div>
            <div class="d-flex col-12 login_list">
                <a href="#" class="Apple">
                    <div class="Apple">
                        <strong>Apple로그인</strong>
                    </div>
                </a>
            </div>
            <div class="d-flex justify-content-center align-items-center col-12 pt-3">
                <a href="#" id="myBtn1" data-target="#myModal" data-toggle="modal" style="text-decoration: none;">아이디 찾기
                    <small>|</small></a>
                <a href="#" id="myBtn2" data-target="#myModal" data-toggle="modal" style="text-decoration: none;">비밀번호
                    찾기 <small>|</small></a>
                <a href="{% url 'member_terms' %}" style="text-decoration: none;">회원가입</a>
            </div>
        </div>
    </div>

    <div id="myModal1" class="modal1">
        <div class="modal-content">
            <div class="find_id">아이디 찾기</div>
            <div class="col-2 close1">&times;</div>
            <div class="menu">
                <div class="faq-content">
                    <button class="question" id="que-1"><span>등록된 휴대폰번호로 찾기</span><span
                            id="que-1-toggle">∨</span></button>
                    <div class="answer" id="ans-1">
                        <form action="{% url 'member_findusername' %}" method="POST">
                            {% csrf_token %}
                            <div><input type="text" class="ininput" name="name" id="name" placeholder="이름을 입력하세요"
                                    required></div>
                            <div><input type="text" class="ininput" name="phoneNum" id="phoneNum"
                                    placeholder="휴대폰 번호를 입력하세요" required></div>
                            <button type="submit" class="btn btn-secondary btnn"
                                style="background-color: rgb(119, 118, 177)">아이디 찾기</button>
                        </form>
                    </div>
                </div>
                <div class="faq-content">
                    <button class="question" id="que-2"><span>등록된 이메일로 찾기</span><span
                            id="que-2-toggle">∨</span></button>
                    <div class="answer" id="ans-2">
                        <form action="{% url 'member_findusername' %}" method="POST">
                            {% csrf_token %}
                            <div><input type="text" class="ininput" name="name" id="name" placeholder="이름을 입력하세요"
                                    required></div>
                            <div><input type="text" class="ininput" name="email" id="email" placeholder="이메일을 입력하세요"
                                    required></div>
                            <button type="submit" class="btn btn-secondary btnn"
                                style="background-color: rgb(119, 118, 177)">아이디 찾기</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="myModal2" class="modal2">
        <div class="d-flex modal-content col-10 col-md-4">
            <div class="find_id">비밀번호 찾기</div>
            <div class="col-2 close2">&times;</div>
            <div class="menu">
                <div class="faq-content">
                    <button class="questionq" id="queq-1"><span>등록된 휴대폰번호로 찾기</span><span
                            id="queq-1-toggle">∨</span></button>
                    <div class="answer" id="ansq-1">
                        <form action="{% url 'member_findpw' %}" method="POST">
                            {% csrf_token %}
                            <div><input type="text" class="ininput" name="username" id="username"
                                    placeholder="아이디를 입력하세요" required></div>
                            <div><input type="text" class="ininput" name="name" id="name" placeholder="이름을 입력하세요"
                                    required></div>
                            <div><input type="text" class="ininput" name="phoneNum" id="phoneNum"
                                    placeholder="휴대폰 번호를 입력하세요" required></div>
                            <button type="submit" class="btn btn-secondary btnn"
                                style="background-color: rgb(119, 118, 177)">비밀번호 찾기</button>
                        </form>
                    </div>
                </div>
                <div class="faq-content">
                    <button class="questionq" id="queq-2"><span>등록된 이메일로 찾기</span><span
                            id="queq-2-toggle">∨</span></button>
                    <div class="answer" id="ansq-2">
                        <form action="{% url 'member_findpw' %}" method="POST">
                            {% csrf_token %}
                            <div><input type="text" class="ininput" name="username" id="username"
                                    placeholder="아이디을 입력하세요" required></div>
                            <div><input type="text" class="ininput" name="name" id="name" placeholder="이름을 입력하세요"
                                    required></div>
                            <div><input type="text" class="ininput" name="email" id="email" placeholder="이메일을 입력하세요"
                                    required></div>
                            <button type="submit" class="btn btn-secondary btnn"
                                style="background-color: rgb(119, 118, 177)">비밀번호 찾기</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- footer 시작 -->
<footer>

</footer>
<!-- footer 끝 -->

<script>
    var modal1 = document.getElementById("myModal1");
    var modal2 = document.getElementById("myModal2");
    var btn1 = document.getElementById("myBtn1");
    var btn2 = document.getElementById("myBtn2");
    var span1 = document.getElementsByClassName("close1")[0];
    var span2 = document.getElementsByClassName("close2")[0];

    btn1.onclick = function () {
        modal1.style.display = "block";
    }
    btn2.onclick = function () {
        modal2.style.display = "block";
    }
    span1.onclick = function () {
        modal1.style.display = "none";
        document.getElementById('ans-1').getElementsByClassName(d - none).display = 'none';
        document.getElementById('que-1-toggle').textContent = '∨';
        document.getElementById('ans-2').style.display = 'none';
        document.getElementById('que-2-toggle').textContent = '∨';
    }
    span2.onclick = function () {
        modal2.style.display = "none";
        document.getElementById('ansq-1').style.display = 'none';
        document.getElementById('queq-1-toggle').textContent = '∨';
        document.getElementById('ansq-2').style.display = 'none';
        document.getElementById('queq-2-toggle').textContent = '∨';
    }
    window.onclick = function (event) {
        if (event.target == modal1) {
            modal1.style.display = "none";
            document.getElementById('ans-1').style.display = 'none';
            document.getElementById('que-1-toggle').textContent = '∨';
            document.getElementById('ans-2').style.display = 'none';
            document.getElementById('que-2-toggle').textContent = '∨';
        }
        if (event.target == modal2) {
            modal2.style.display = "none";
            document.getElementById('ansq-1').style.display = 'none';
            document.getElementById('queq-1-toggle').textContent = '∨';
            document.getElementById('ansq-2').style.display = 'none';
            document.getElementById('queq-2-toggle').textContent = '∨';
        }
    }


    const items = document.querySelectorAll('.question');

    function openCloseAnswer() {
        const answerId = this.id.replace('que', 'ans');

        if (document.getElementById(answerId).style.display === 'block') {
            document.getElementById(answerId).style.display = 'none';
            document.getElementById(this.id + '-toggle').textContent = '∨';
        } else {
            document.getElementById(answerId).style.display = 'block';
            document.getElementById(this.id + '-toggle').textContent = '∧';
        }
    }
    items.forEach(item => item.addEventListener('click', openCloseAnswer));

    const itemss = document.querySelectorAll('.questionq');

    function openCloseAnswerq() {
        const answerId = this.id.replace('queq', 'ansq');
        if (document.getElementById(answerId).style.display === 'block') {
            document.getElementById(answerId).style.display = 'none';
            document.getElementById(this.id + '-toggle').textContent = '∨';
        } else {
            document.getElementById(answerId).style.display = 'block';
            document.getElementById(this.id + '-toggle').textContent = '∧';
        }
    }
    itemss.forEach(item => item.addEventListener('click', openCloseAnswerq));
</script>

{% endblock %}